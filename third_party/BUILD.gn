is_msvc = is_win && !is_clang

# Glad
config("glad_public") {
  include_dirs = [ "glad/include" ]
}

static_library("glad") {
  sources = [
    "glad/include/KHR/khrplatform.h",
    "glad/include/glad/glad.h",
    "glad/src/glad.c",
  ]

  public_configs = [ ":glad_public" ]
}

# GLM
config("glm_public_config") {
  include_dirs = [ "glm" ]
}
source_set("glm") {
  public_configs = [ ":glm_public_config" ]
  # GLM is header only but has too many files to list them.
}

# STB
config("stb_public_config") {
  include_dirs = [ "stb" ]

  if (!is_msvc) {
    cflags_cc = [ "-Wno-implicit-fallthrough" ]
  }
}
source_set("stb") {
  public_configs = [ ":stb_public_config" ]
  sources = [
    "stb/stb_image.h",
  ]
}